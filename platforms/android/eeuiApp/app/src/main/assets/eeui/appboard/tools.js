"use strict";var eeui=app.requireModule("eeui"),dom=weex.requireModule("dom"),animation=weex.requireModule("animation"),toast=function(e,t){if(!String(e).trim()||"AJAX_CANCAL"==e)return!1;var n={gravity:"middle",backgroundColor:"iOS"==WXEnvironment.platform?"rgba(0,0,0, .75)":"#292929"};"[object Object]"!==toString.call(t)&&(t={}),eeui.toast(Object.assign({message:e},n,t))},alert=function(e,t,n){var i=2<arguments.length&&void 0!==n?n:function(){};if(!String(e).trim()||"AJAX_CANCAL"==e)return!1;"[object Object]"!==toString.call(t)&&(t={}),eeui.alert(Object.assign({message:e},t),i)};function createToastInstance(e){var t=weex.document,n=t.createElement("div");n.setStyle("position","fixed"),n.setStyle("top",0),n.setStyle("left",0),n.setStyle("right",0),n.setStyle("bottom",0),n.setStyle("alignItems","center"),n.setStyle("justifyContent","center");var i=t.createElement("div");i.setStyle("backgroundColor","rgba(0,0,0, .75)"),i.setStyle("paddingTop",20),i.setStyle("paddingLeft",30),i.setStyle("paddingRight",30),i.setStyle("paddingBottom",20),i.setStyle("maxWidth",600),i.setStyle("borderRadius","20px"),i.setStyle("opacity",0),i.setStyle("transform","scale(0.8)"),i.setStyle("transitionDuration","0.3s"),i.setStyle("transitionProperty","transform, opacity"),i.setStyle("transitionTimingFunction","cubic-bezier(0.25, 0.1, 0.25, 1.0)");var o=t.createElement("text");o.setAttr("value",e),o.setStyle("fontSize",32),o.setStyle("color","#ffffff"),i.appendChild(o),n.appendChild(i),t.body.appendChild(n),setTimeout(function(){i.setStyle("opacity",1),i.setStyle("transform","scale(1)")},200),setTimeout(function(){animation.transition(i,{styles:{transform:"scale(0.8)",opacity:0},duration:300,timingFunction:"cubic-bezier(0.25, 0.1, 0.25, 1.0)",needLayout:!1,delay:0},function(){t.body.removeChild(n)})},1500)}var $Caches=function(){function i(e,t){var n=1<arguments.length&&void 0!==t?t:null,i=eeui.getCaches(o,{});return e?void 0!==i[e]?i[e]:n:i}var o="app_freeze",a="app_normal",r=function(e,t){var n=1<arguments.length&&void 0!==t?t:null,i=eeui.getCaches(a,{});return e?void 0!==i[e]?i[e]:n:i};return{getFreeze:i,setFreeze:function(e,t){if(String(e).trim()){var n=i();n[e]=t,eeui.setCaches(o,n)}},delFreeze:function(e){if(String(e).trim()){var t=i();void 0!==t[e]&&(delete t[e],eeui.setCaches(o,t))}},set:function(e,t){if(String(e).trim()){var n=r();n[e]=t,eeui.setCaches(a,n)}},get:r,del:function(e){if(String(e).trim()){var t=r();void 0!==t[e]&&(delete t[e],eeui.setCaches(a,t))}},clean:function(e){if(0<arguments.length&&void 0!==e&&e)eeui.clearAllCaches();else{var t=i();eeui.clearAllCaches(),eeui.setCaches(o,t)}}}}(),$tools=function(){var e=function(e,t){new BroadcastChannel("APP_GLOBAL_".concat(e)).postMessage(t)};return{$bus:new Vue,getUid:function(){return $Caches.getFreeze("uid","")},getUser:function(){return $Caches.getFreeze("user",!1)},getToken:function(){return $Caches.getFreeze("token","")},logout:function(){e("logout",{type:"logout"}),$Caches.delFreeze("user"),$Caches.delFreeze("uid"),$Caches.delFreeze("token"),$Caches.clean()},$on:function(e,t){var n=1<arguments.length&&void 0!==t?t:function(){};new BroadcastChannel("APP_GLOBAL_".concat(e)).onmessage=function(e){"function"==typeof n&&n(e.data)}},$emit:e,$off:function(e){new BroadcastChannel("APP_GLOBAL_".concat(e)).close()}}}();